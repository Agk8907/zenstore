{% extends 'store/main.html' %}
{% load static %}
{% block content %}
    <div style="display: flex; justify-content: center;">
        <div class="box-element" style="max-width: 1000px;">
            <h2>Shopping Cart</h2>
            <br>
            
            {% if order.get_cart_items > 0 %}
                <table class="table">
                    <tr>
                        <th>Item</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Total</th>
                    </tr>
                    {% for item in items %}
                    <tr>
                        <td style="display: flex; align-items: center;">
                            <img src="{{item.product.imageURL}}" style="width: 50px; margin-right: 10px;">
                            {{item.product.name}}
                        </td>
                        <td>₹{{item.product.price}}</td>
                        <td>
                            <div style="display:flex; gap:10px; align-items:center;">
                                <button data-product="{{item.product.id}}" data-action="remove" class="update-cart" style="border:none; background:#ff7675; color:white; width:25px; height:25px; border-radius:4px; cursor:pointer;">-</button>
                                <span>{{item.quantity}}</span>
                                <button data-product="{{item.product.id}}" data-action="add" class="update-cart" style="border:none; background:#55efc4; color:white; width:25px; height:25px; border-radius:4px; cursor:pointer;">+</button>
                            </div>
                        </td>
                        <td>₹{{item.get_total}}</td>
                    </tr>
                    {% endfor %}
                </table>
                
                <hr style="margin: 20px 0; border-top: 1px solid #eee;">
                
                <div style="display:flex; justify-content: space-between; align-items: center;">
                    <h3>Total: ₹{{order.get_cart_total}}</h3>
                    <a href="{% url 'checkout' %}" class="btn spa-link" style="width: 200px; margin-top:0; text-align:center; text-decoration:none; color:black;">Proceed to Checkout</a>
                </div>
            
            {% else %}
                <div style="text-align:center; padding: 40px;">
                    <i class="fas fa-shopping-cart" style="font-size: 4rem; color:#eee; margin-bottom:20px;"></i>
                    <h3>Your Cart is Empty</h3>
                    <p style="color:#666;">Looks like you haven't added anything yet.</p>
                    <a href="{% url 'products' %}" class="btn spa-link" style="width:200px; display:inline-block; margin-top:20px;">Start Shopping</a>
                </div>
            {% endif %}
        </div>
    </div>
{% endblock content %}